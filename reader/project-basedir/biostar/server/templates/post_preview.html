{% extends "starbase.html" %}
{% load server_tags %}
{% load static %}

{% block page_title %}
    {{ post.title }}
{% endblock %}

{% block extras %}

    <script type="text/javascript"
            src="{% static "lib/pagedown/Markdown.Converter.js" %}"></script>
    <script type="text/javascript"
            src="{% static "lib/pagedown/Markdown.Sanitizer.js" %}"></script>
    <script type="text/javascript"
            src="{% static "lib/pagedown/Markdown.Editor.js" %}"></script>

    {#  Markdown editor style #}
    <link rel="stylesheet" href={% static "lib/pagedown/markdown.css" %}>

{% endblock %}

{% block content %}

    {% if errors_detected %}
        <div style="background: #a94442; color: #ffffff; text-align: center; padding: 0.5em; font-size: 150%;">
        Errors Detected
        </div>

        {% if show_error_summary %}
            <div style="background: #a94442; color: #ffffff; text-align: left; padding: 0.5em; font-size: 150%;">
            <ul>
                {% for e in error_summary_list %}
                    <li>{{ e }}</li>
                {% endfor %}
            </ul>
            </div>
        {% endif %}

    {% endif %}

    <div class="row" itemscope itemtype="http://schema.org/QAPage">

        <div class="col-xs-12 col-md-9">

            <div id="post-details" >

                <span itemscope itemtype="http://schema.org/Question">
                    {% post_preview_body post %}
                </span>
            </div>

            <br />
            {% if user.is_unsigned %}
                <a class="btn btn-primary" href="{{ publish_url|safe }}">Get Anonymous Invoice</a>
            {% else %}
                <a class="btn btn-primary" href="{{ publish_url|safe }}">Get Signed Invoice</a>
            {% endif %}

        </div>
    </div>
    <script src="/static/lib/prism/prism.js" type="text/javascript"></script>

{% endblock %}
